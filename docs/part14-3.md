# –ë–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –≤ Go

–ú–∏–ª–æ—à –°–º–æ–ª–∫–∞. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å [Karhoo](https://www.karhoo.com/). –°–æ—É—á—Ä–µ–¥–∏—Ç–µ–ª—å
[Three Dots Labs](https://threedotslabs.com/). –°–æ–∑–¥–∞—Ç–µ–ª—å [Watermill](https://github.com/ThreeDotsLabs/watermill).

–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è —è–≤–ª—è—é—Ç—Å—è –≤–∞–∂–Ω–æ–π —á–∞—Å—Ç—å—é –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. Go –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏—Ö –∏–∑ 
–∫–æ—Ä–æ–±–∫–∏, –Ω–æ –µ—Å—Ç—å —Å–ø–æ—Å–æ–±—ã –∏—Ö —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å.

–ú–Ω–æ–≥–∏–µ –æ—á–µ–≤–∏–¥–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–∞–ª–µ–∫–∏ –æ—Ç –∏–¥–µ–∞–ª—å–Ω—ã—Ö. –í–æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–¥–µ–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã 
–∏—Å–ø–æ–ª—å–∑—É–µ–º, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏.

## iota

Go –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—á–∏—Å–ª—è—Ç—å –≤–µ—â–∏ —Å –ø–æ–º–æ—â—å—é iota.

```go
const (
    Guest = iota
    Member
    Moderator
    Admin
)
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/go-web-app-antipatterns/02-enums/01-iota/role/role.go](https://github.com/ThreeDotsLabs/go-web-app-antipatterns/blob/master/02-enums/01-iota/role/role.go#L3)

–í —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –≤ Go –≤—Å—ë –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ —è–≤–Ω–æ, `iota` –∫–∞–∂–µ—Ç—Å—è —á–µ–º-—Ç–æ –º–∞–≥–∏—á–µ—Å–∫–∏–º. –ï—Å–ª–∏ –≤—ã
–æ—Ç—Å–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ –≥—Ä—É–ø–ø—É –∏–Ω–∞—á–µ, —ç—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –ø–æ–±–æ—á–Ω—ã–º —ç—Ñ—Ñ–µ–∫—Ç–∞–º. –í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –≤—ã—à–µ 
–ø—Ä–∏–º–µ—Ä–µ, –≤—ã –º–æ–∂–µ—Ç–µ —Å–ª—É—á–∞–π–Ω–æ —Å–æ–∑–¥–∞—Ç—å –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤ –≤–º–µ—Å—Ç–æ —á–ª–µ–Ω–æ–≤. –í—ã –º–æ–∂–µ—Ç–µ —è–≤–Ω–æ 
–ø—Ä–∏—Å–≤–æ–∏—Ç—å –Ω–æ–º–µ—Ä –∫–∞–∂–¥–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã, –Ω–æ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ
`iota` –Ω–µ –Ω—É–∂–Ω–∞.

`iota` —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ñ–ª–∞–≥–æ–≤, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å—Ç–µ–ø–µ–Ω—è–º–∏ –¥–≤–æ–π–∫–∏.

```go
const (
    Guest = 1 << iota   // 1
    Member              // 2
    Moderator           // 4
    Admin               // 8
)

// ...

user.Role = Member | Moderator // 6
```

–ë–∏—Ç–æ–≤—ã–µ –º–∞—Å–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã –∏ –∏–Ω–æ–≥–¥–∞ –ø–æ–ª–µ–∑–Ω—ã. –û–¥–Ω–∞–∫–æ —ç—Ç–æ –¥—Ä—É–≥–æ–π –≤–∞—Ä–∏–∞–Ω—Ç 
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, —á–µ–º –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ß–∞—Å—Ç–æ –≤–∞–º –±—É–¥–µ—Ç 
—É–¥–æ–±–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ —Ä–æ–ª–∏ –≤ —Å–ø–∏—Å–∫–µ. –≠—Ç–æ —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –±–æ–ª–µ–µ —á–∏—Ç–∞–±–µ–ª—å–Ω–æ.

–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å `iota` –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏, 
–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∑–∞—â–∏—â–∞—é—Ç –æ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

```go
func CreateUser(r int) error {
	fmt.Println("Creating user with role", r)
	return nil
}

func main() {
    err := CreateUser(-1)
    if err != nil {
        fmt.Println(err)
    }

    err = CreateUser(42)
    if err != nil {
        fmt.Println(err)
    }
}
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/go-web-app-antipatterns/02-enums/01-iota/main.go](https://github.com/ThreeDotsLabs/go-web-app-antipatterns/blob/master/02-enums/01-iota/main.go)

–§—É–Ω–∫—Ü–∏—è `CreateUser` —Å —Ä–∞–¥–æ—Å—Ç—å—é –ø—Ä–∏–º–µ—Ç –Ω–∞ –≤—Ö–æ–¥ -1 –∏–ª–∏ 42 –¥–∞–∂–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ 
—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–æ–ª–µ–π.

–ö–æ–Ω–µ—á–Ω–æ, –º—ã –º–æ–≥–ª–∏ –±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏. –ù–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —è–∑—ã–∫ —Å–æ 
—Å—Ç—Ä–æ–≥–∏–º–∏ —Ç–∏–ø–∞–º–∏, —Ç–∞–∫ —á—Ç–æ –¥–∞–≤–∞–π—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è —ç—Ç–∏–º. –í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –Ω–∞—à–µ–≥–æ 
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî —ç—Ç–æ –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª—å—à–µ, —á–µ–º –ø—Ä–æ—Å—Ç–æ –∫–∞–∫–æ–µ-—Ç–æ —á–∏—Å–ª–æ.

> –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω: –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è
> 
> –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ `iota` –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π, 
> –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏ –∏–ª–∏ —Ñ–ª–∞–≥–∞–º–∏.

–ú—ã –º–æ–≥–ª–∏ –±—ã –≤–≤–µ—Å—Ç–∏ —Ç–∏–ø –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ—à–µ–Ω–∏—è.

```go
type Role uint

const (
    Guest Role = iota
    Member
    Moderator
    Admin
)
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/go-web-app-antipatterns/02-enums/02-typed-iota/role/role.go](https://github.com/ThreeDotsLabs/go-web-app-antipatterns/blob/master/02-enums/02-typed-iota/role/role.go#L5)

–í—ã–≥–ª—è–¥–∏—Ç –ª—É—á—à–µ, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–º–µ—Å—Ç–æ `Role` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –ª—é–±–æ–µ 
–ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä Go –Ω–∞–º –∑–¥–µ—Å—å –Ω–µ –ø–æ–º–æ–∂–µ—Ç.

```go
func CreateUser(r int) error {
	fmt.Println("Creating user with role", r)
	return nil
}

func main() {
    err := CreateUser(-1)
    if err != nil {
        fmt.Println(err)
    }

    err = CreateUser(42)
    if err != nil {
        fmt.Println(err)
    }
}
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/go-web-app-antipatterns/02-enums/02-typed-iota/main.go](https://github.com/ThreeDotsLabs/go-web-app-antipatterns/blob/master/02-enums/02-typed-iota/main.go)

–¢–∏–ø ‚Äî —ç—Ç–æ —É–ª—É—á—à–µ–Ω–∏–µ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ–±—ã—á–Ω—ã–º —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º, –Ω–æ —ç—Ç–æ –≤—Å–µ –µ—â–µ –∏–ª–ª—é–∑–∏—è.
–≠—Ç–æ –Ω–µ –¥–∞–µ—Ç –Ω–∞–º –Ω–∏–∫–∞–∫–∏—Ö –≥–∞—Ä–∞–Ω—Ç–∏–π, —á—Ç–æ —Ä–æ–ª—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞.

## –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è

–ü–æ—Å–∫–æ–ª—å–∫—É `iota` –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω—É–ª—è, `Guest` - —ç—Ç–æ —Ç–∞–∫–∂–µ `Role` —Å –Ω—É–ª–µ–≤—ã–º 
–∑–Ω–∞—á–µ–Ω–∏–µ–º. –≠—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–≥–æ, –ø—É—Å—Ç–∞ –ª–∏ —Ä–æ–ª—å –∏–ª–∏ –∫—Ç–æ-—Ç–æ –ø–µ—Ä–µ–¥–∞–ª 
–∑–Ω–∞—á–µ–Ω–∏–µ `Guest`.

–≠—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å, —Å—á–∏—Ç–∞—è –æ—Ç 1. –ï—â–µ –ª—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å —è–≤–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ,
–∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å –∏ –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ–ª—å–∑—è —Å–ø—É—Ç–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω–æ–π —Ä–æ–ª—å—é.

```go
type Role uint

const (
    Unknown Role = iota
    Guest
    Member
    Moderator
    Admin
)
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/go-web-app-antipatterns/02-enums/02-typed-iota/role/role.go](https://github.com/ThreeDotsLabs/go-web-app-antipatterns/blob/master/02-enums/02-typed-iota/role/role.go#L6)

```go
func CreateUser(r role.Role) error {
    if r == role.Unknown {
        return errors.New("no role provided")
    }
    
    fmt.Println("Creating user with role", r)
    
    return nil
}
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/go-web-app-antipatterns/02-enums/02-typed-iota/main.go](https://github.com/ThreeDotsLabs/go-web-app-antipatterns/blob/master/02-enums/02-typed-iota/main.go#L11)

> –¢–∞–∫—Ç–∏–∫–∞: —è–≤–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
> 
> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è –Ω—É–ª–µ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è.

## Slugs

–ö–∞–∂–µ—Ç—Å—è, —á—Ç–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–±–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–ª—ã–µ 
—á–∏—Å–ª–∞, –Ω–æ —ç—Ç–æ —Ä–µ–¥–∫–æ –±—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º. –í –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –º—ã 
–∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ —Ç–∏–ø–∞. 
–û–Ω–∏ –ø–ª–æ—Ö–æ —Å–æ–æ—Ç–Ω–æ—Å—è—Ç—Å—è —Å —á–∏—Å–ª–∞–º–∏.

–¢—Ä—É–¥–Ω–æ –ø–æ–Ω—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∫–æ–≥–¥–∞ –≤—ã –≤–∏–¥–∏—Ç–µ `3` –≤ –æ—Ç–≤–µ—Ç–µ API, —Ç–∞–±–ª–∏—Ü–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö 
–∏–ª–∏ –ª–æ–≥–∞—Ö. –í—ã –¥–æ–ª–∂–Ω—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, 
—á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –æ —á–µ–º –∏–¥–µ—Ç —Ä–µ—á—å.

–°—Ç—Ä–æ–∫–æ–≤—ã–µ –∏–º–µ–Ω–∞ –±–æ–ª–µ–µ –∑–Ω–∞—á–∏–º—ã, —á–µ–º —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤. –í–µ–∑–¥–µ, 
–≥–¥–µ –≤—ã –µ–≥–æ –≤–∏–¥–∏—Ç–µ, `moderator` –æ—á–µ–≤–∏–¥–µ–Ω. –¢–∞–∫ –∫–∞–∫ `iota` –Ω–∞–º –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ –ø–æ–º–æ–∂–µ—Ç, 
–º—ã –º–æ–∂–µ–º —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º—ã–µ —Å—Ç—Ä–æ–∫–∏.

```go
type Role string

const (
    Unknown   Role = ""
    Guest     Role = "guest"
    Member    Role = "member"
    Moderator Role = "moderator"
    Admin     Role = "admin"
)
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/go-web-app-antipatterns/02-enums/03-slugs/role/role.go](https://github.com/ThreeDotsLabs/go-web-app-antipatterns/blob/master/02-enums/03-slugs/role/role.go#L5)

> –¢–∞–∫—Ç–∏–∫–∞: Slugs
> 
> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª.
> 
> –ò–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä–æ–±–µ–ª–æ–≤ –¥–ª—è –æ–±–ª–µ–≥—á–µ–Ω–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è. 
> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ camelCase, snake_case –∏–ª–∏ kebab-case.

Slugs –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫. –û—Ç–≤–µ—Ç –æ–± –æ—à–∏–±–∫–µ, —Ç–∞–∫–æ–π –∫–∞–∫ `{"error":
"user-not-found"}`, –æ—á–µ–≤–∏–¥–µ–Ω –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `{"error": 4102}`.

–û–¥–Ω–∞–∫–æ —ç—Ç–æ—Ç —Ç–∏–ø –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ª—é–±—É—é –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É.

```go
err = CreateUser("super-admin")
if err != nil {
    fmt.Println(err)
}
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/go-web-app-antipatterns/02-enums/03-slugs/main.go](https://github.com/ThreeDotsLabs/go-web-app-antipatterns/blob/master/02-enums/03-slugs/main.go#L36)

## –°—Ç—Ä–æ–∫–æ–≤—ã–µ Enums

–ü–æ—Å–ª–µ–¥–Ω—è—è –∏—Ç–µ—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–¥–æ–º,
–±–µ–∑–æ–ø–∞—Å–Ω—ã–º –ø–æ —Å–≤–æ–µ–º—É —Å–ø–æ—Å–æ–±—É –Ω–∞–ø–∏—Å–∞–Ω–∏—è. –ù–∞–º –Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å 
–ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.

```go
type Role struct {
    slug string
}

func (r Role) String() string {
    return r.slug
}

var (
    Unknown   = Role{""}
    Guest     = Role{"guest"}
    Member    = Role{"member"}
    Moderator = Role{"moderator"}
    Admin     = Role{"admin"}
)
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/go-web-app-antipatterns/02-enums/04-structs/role/role.go](https://github.com/ThreeDotsLabs/go-web-app-antipatterns/blob/master/02-enums/04-structs/role/role.go#L14)

–ü–æ—Å–∫–æ–ª—å–∫—É –ø–æ–ª–µ `slug` –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º–æ–µ, –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ —Å–Ω–∞—Ä—É–∂–∏ –ø–∞–∫–µ—Ç–∞. 
–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—É—é –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å ‚Äî —ç—Ç–æ –ø—É—Å—Ç–∞—è: `Role{}`.

–ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–æ–ª–∏ —Å 
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º slug:

```go
func FromString(s string) (Role, error) {
	switch s {
	case Guest.slug:
		return Guest, nil
	case Member.slug:
		return Member, nil
	case Moderator.slug:
		return Moderator, nil
	case Admin.slug:
		return Admin, nil
	}

	return Unknown, errors.New("unknown role: " + s)
}
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/go-web-app-antipatterns/02-enums/04-structs/role/role.go](https://github.com/ThreeDotsLabs/go-web-app-antipatterns/blob/master/02-enums/04-structs/role/role.go#L21)

> –¢–∞–∫—Ç–∏–∫–∞: –°—Ç—Ä–æ–∫–æ–≤—ã–µ Enums
> 
> –ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤–æ 
> –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –∏–¥–µ–∞–ª–µ–Ω, –∫–æ–≥–¥–∞ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä 
–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤ –ø–∞–º—è—Ç–∏ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –≤–∞—à–∏–º –∫–æ–¥–æ–º –∏ –µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ. 
–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ç–∏–ø enum –ø—É—Å—Ç—ã–º, –∏ –≤—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —ç—Ç–æ 
–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

–ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞. –°—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å 
–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –≤ Go, –ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–µ–¥—É—é—â–∏–º 
–æ–±—Ä–∞–∑–æ–º:

```go
roles.Guest = role.Admin
```

–û–¥–Ω–∞–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ –Ω–µ—Ç —Ä–∞–∑—É–º–Ω–æ–π –ø—Ä–∏—á–∏–Ω—ã. –ë–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ, –≤—ã —Å–ª—É—á–∞–π–Ω–æ –ø–µ—Ä–µ–¥–∞–¥–∏—Ç–µ 
–Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ.

–î—Ä—É–≥–∏–º –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–ª—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –¥–≤—É—Ö 
–º–µ—Å—Ç–∞—Ö: –≤ —Å–ø–∏—Å–∫–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π –∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, —ç—Ç–æ –ª–µ–≥–∫–æ 
–∑–∞–º–µ—Ç–∏—Ç—å, –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ.

## –ê –∫–∞–∫ –≤—ã —Ä–µ—à–∞–µ—Ç–µ —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É?

–ö–æ–≥–¥–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–∞–∫–æ–π-—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ Go, –º—ã —Å–∫–ª–æ–Ω–Ω—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ
–≤–µ–¥–µ–Ω–∏—è –¥–µ–ª. –¢–æ, —á—Ç–æ —è –æ–ø–∏—Å–∞–ª, —è–≤–ª—è–µ—Ç—Å—è –ª–∏—à—å –æ–¥–Ω–∏–º –∏–∑ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤. 
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–∏ –≤—ã –¥—Ä—É–≥–æ–π —à–∞–±–ª–æ–Ω –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∞—à–∏—Ö –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π? –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, 
–ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –∏–º –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö. üôÇ

–ü–æ–ª–Ω—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å–º–æ—Ç—Ä–∏ –≤ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∞–Ω—Ç–∏—à–∞–±–ª–æ–Ω–æ–≤](https://github.com/ThreeDotsLabs/go-web-app-antipatterns).
