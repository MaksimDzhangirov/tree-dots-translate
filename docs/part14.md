# –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –≤ Google Cloud Build —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º docker-compose

[–î–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è —è–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–≤–æ–¥–æ–º. –û—Ä–∏–≥–∏–Ω–∞–ª –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ](https://threedots.tech/post/running-integration-tests-on-google-cloud-build/)

–ú–∏–ª–æ—à –°–º–æ–ª–∫–∞. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å [Karhoo](https://www.karhoo.com/). –°–æ—É—á—Ä–µ–¥–∏—Ç–µ–ª—å
[Three Dots Labs](https://threedotslabs.com/). –°–æ–∑–¥–∞—Ç–µ–ª—å [Watermill](https://github.com/ThreeDotsLabs/watermill).

–≠—Ç–æ—Ç –ø–æ—Å—Ç —è–≤–ª—è–µ—Ç—Å—è –ø—Ä—è–º—ã–º –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º [–¢–µ—Å—Ç–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤](https://threedots.tech/post/microservices-test-architecture/),
–≥–¥–µ —è –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª –Ω–æ–≤—ã–µ –≤–∏–¥—ã —Ç–µ—Å—Ç–æ–≤ –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ
–ø—Ä–∏–º–µ—Ä–∞.

[Wild Workouts](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Google Cloud Build –≤ –∫–∞—á–µ—Å—Ç–≤–µ CI/CD –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã. –û–Ω 
–Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ **–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ø–∞–¥–∞—é—Ç 
–≤ —Ä–∞–±–æ—á—É—é —Å—Ä–µ–¥—É, –∫–∞–∫ —Ç–æ–ª—å–∫–æ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç –∫–æ–Ω–≤–µ–π–µ—Ä. –ï—Å–ª–∏ –ø—Ä–∏–Ω—è—Ç—å –≤–æ –≤–Ω–∏–º–∞–Ω–∏–µ 
–Ω–∞—à—É –Ω—ã–Ω–µ—à–Ω—é—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø—Ä–æ–µ–∫—Ç–∞, —Ç–æ –æ–Ω–∞ –∏ —Å–º–µ–ª–∞—è, –∏ –Ω–∞–∏–≤–Ω–∞—è. –£ –Ω–∞—Å —Ç–∞–º –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã 
–Ω–∏–∫–∞–∫–∏–µ —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –±—ã —É–±–µ—Ä–µ—á—å –Ω–∞—Å –æ—Ç –æ—á–µ–≤–∏–¥–Ω—ã—Ö –æ—à–∏–±–æ–∫ (–≤ –ª—é–±–æ–º 
—Å–ª—É—á–∞–µ, –Ω–µ —Å—Ç–æ–ª—å –æ—á–µ–≤–∏–¥–Ω—ã–µ –æ—à–∏–±–∫–∏ —Ä–µ–¥–∫–æ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã —Ç–µ—Å—Ç–∞–º–∏).

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ —è –ø–æ–∫–∞–∂—É, –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ –∏ —Å–∫–≤–æ–∑–Ω—ã–µ 
—Ç–µ—Å—Ç—ã –≤ Google Cloud Build —Å –ø–æ–º–æ—â—å—é docker-compose.

> –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –æ—á–µ—Ä–µ–¥–Ω–∞—è —Å—Ç–∞—Ç—å—è —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º–∏ –∫–æ–¥–∞.
>
> –≠—Ç–æ—Ç –ø–æ—Å—Ç —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –±–æ–ª—å—à–æ–≥–æ —Ü–∏–∫–ª–∞, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞
> **Go, –∫–æ—Ç–æ—Ä—ã–µ –ª–µ–≥–∫–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ —Å –Ω–∏–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤
> –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ**. –ú—ã –¥–µ–ª–∞–µ–º —ç—Ç–æ, –¥–µ–ª—è—Å—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–º–∏
> –Ω–∞ –º–Ω–æ–≥–∏—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞—Ö, –ø—Ä–æ–≤–µ–¥—ë–Ω–Ω—ã–º–∏ —Å –≤–æ–∑–≥–ª–∞–≤–ª—è–µ–º—ã–º–∏ –Ω–∞–º–∏ —Å –∫–æ–º–∞–Ω–¥–∞–º–∏,
> –∏ [–Ω–∞—É—á–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è—Ö](https://threedots.tech/post/ddd-lite-in-go-introduction/#thats-great-but-do-you-have-any-evidence-it-works).
> –í—ã –º–æ–∂–µ—Ç–µ –∏–∑—É—á–∏—Ç—å —ç—Ç–∏ –º–µ—Ç–æ–¥—ã, —Å–æ–∑–¥–∞–≤ —Å –Ω–∞–º–∏ [–ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π](https://threedots.tech/post/serverless-cloud-run-firebase-modern-go-application/#what-wild-workouts-can-do) –ø—Ä–∏–º–µ—Ä
> –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Go - **Wild Workouts**.
>
> –ú—ã –ø–æ—Å—Ç—É–ø–∏–ª–∏ –Ω–µ —Å–æ–≤—Å–µ–º –æ–±—ã—á–Ω–æ ‚Äî **–¥–æ–±–∞–≤–∏–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å—Ä–∞–∑—É –∑–∞–º–µ—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
> –≤ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é Wild Workouts**. –ù–µ—É–∂–µ–ª–∏ –º—ã —Å–æ—à–ª–∏ —Å —É–º–∞? –ü–æ–∫–∞ –Ω–µ—Ç. üòâ
> –≠—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã –¥–ª—è –º–Ω–æ–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ Go. **–í –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ —ç—Ç–∏
> –Ω–µ–±–æ–ª—å—à–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∫—Ä–∏—Ç–∏—á–Ω—ã–º–∏ –∏ –Ω–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª.**
>
> **–≠—Ç–æ –æ–¥–∏–Ω –∏–∑ –≤–∞–∂–Ω–µ–π—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤ —Å—Ç–∞—Ä—à–µ–≥–æ –∏–ª–∏ –≤–µ–¥—É—â–µ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞; –≤—Å–µ–≥–¥–∞ –Ω—É–∂–Ω–æ
> –ø–æ–º–Ω–∏—Ç—å –æ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è—Ö.**
>
> –ú—ã –∏—Å–ø—Ä–∞–≤–∏–º –∏—Ö –ø—É—Ç–µ–º **—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞** Wild Workouts. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤—ã –±—ã—Å—Ç—Ä–æ –ø–æ–π–º—ë—Ç–µ
> –º–µ—Ç–æ–¥–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–º–∏ –º—ã –¥–µ–ª–∏–º—Å—è.
> –ó–Ω–∞–µ—Ç–µ –ª–∏ –≤—ã —ç—Ç–æ —á—É–≤—Å—Ç–≤–æ, –∫–æ–≥–¥–∞ –ø—Ä–æ—á–∏—Ç–∞–ª–∏ —Å—Ç–∞—Ç—å—é –æ –∫–∞–∫–æ–π-—Ç–æ –º–µ—Ç–æ–¥–∏–∫–µ –∏ –ø–æ–ø—ã—Ç–∞–ª–∏—Å—å
> —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –µ—ë, –Ω–æ –Ω–µ —Å–º–æ–≥–ª–∏ –∏–∑-–∑–∞ —É–ø—É—â–µ–Ω–∏–π –∏ –ø—Ä–æ–ø—É—Å–∫–∞ –¥–µ—Ç–∞–ª–µ–π –≤ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ.
> –ü—Ä–æ–ø—É—Å–∫ –¥–µ—Ç–∞–ª–µ–π –¥–µ–ª–∞–µ—Ç —Å—Ç–∞—Ç—å–∏ –∫–æ—Ä–æ—á–µ –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü, –Ω–æ —ç—Ç–æ
> –Ω–µ –Ω–∞—à–∞ —Ü–µ–ª—å. –ù–∞—à–∞ —Ü–µ–ª—å ‚Äî —Å–æ–∑–¥–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª, –∫–æ—Ç–æ—Ä—ã–π –¥–∞—Å—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–Ω–∞–Ω–∏–π –¥–ª—è
> –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–∏–∫. –ï—Å–ª–∏ –≤—ã –µ—â–µ –Ω–µ —á–∏—Ç–∞–ª–∏ [–ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å—Ç–∞—Ç—å–∏ –∏–∑
> —ç—Ç–æ–≥–æ —Ü–∏–∫–ª–∞](https://threedots.tech/series/modern-business-software-in-go/),
> –º—ã –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å.
>
> –ú—ã —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö –∑–Ω–∞–Ω–∏–π –Ω–µ–ª—å–∑—è –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –¥–µ—Ç–∞–ª–∏. –ï—Å–ª–∏ –≤—ã
> —Ö–æ—Ç–∏—Ç–µ –±—ã—Å—Ç—Ä–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤–∞–º –Ω—É–∂–Ω–æ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å
> –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å. –ï—Å–ª–∏ –±—ã –≤—Å—ë –±—ã–ª–æ —Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ,
> —É –Ω–∞—Å –±—ã –Ω–µ –±—ã–ª–æ —Ç–∞–∫–æ–≥–æ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—Å—Ç—Ä–∞—à–∞—é—â–µ–≥–æ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫–æ–¥–∞.
>
> –í–æ—Ç [–ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑ 14 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Å—Ç–∞—Ç–µ–π](https://threedots.tech/series/modern-business-software-in-go/).
>
> –í–µ—Å—å –∫–æ–¥ Wild Workouts –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ [GitHub](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example). –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∑–≤–µ–∑–¥—É
> –Ω–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É! ‚≠ê

## –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª `cloudbuild.yaml`. –•–æ—Ç—è –æ–Ω –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π,
–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —à–∞–≥–æ–≤ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, –ø–æ—Å–∫–æ–ª—å–∫—É –º—ã —Ö—Ä–∞–Ω–∏–º 3 –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞
–≤ –æ–¥–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –Ø —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á—É—Å—å –Ω–∞ –±—ç–∫–µ–Ω–¥-—á–∞—Å—Ç–∏, –ø–æ—ç—Ç–æ–º—É —Å–µ–π—á–∞—Å —è –ø—Ä–æ–ø—É—â—É 
–≤—Å—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.

```yaml
steps:
  - id: trainer-lint
    name: golang
    entrypoint: ./scripts/lint.sh
    args: [trainer]
  - id: trainings-lint
    name: golang
    entrypoint: ./scripts/lint.sh
    args: [trainings]
  - id: users-lint
    name: golang
    entrypoint: ./scripts/lint.sh
    args: [users]

  - id: trainer-docker
    name: gcr.io/cloud-builders/docker
    entrypoint: ./scripts/build-docker.sh
    args: ["trainer", "$PROJECT_ID"]
    waitFor: [trainer-lint]
  - id: trainings-docker
    name: gcr.io/cloud-builders/docker
    entrypoint: ./scripts/build-docker.sh
    args: ["trainings", "$PROJECT_ID"]
    waitFor: [trainings-lint]
  - id: users-docker
    name: gcr.io/cloud-builders/docker
    entrypoint: ./scripts/build-docker.sh
    args: ["users", "$PROJECT_ID"]
    waitFor: [users-lint]

  - id: trainer-http-deploy
    name: gcr.io/cloud-builders/gcloud
    entrypoint: ./scripts/deploy.sh
    args: [trainer, http, "$PROJECT_ID"]
    waitFor: [trainer-docker]
  - id: trainer-grpc-deploy
    name: gcr.io/cloud-builders/gcloud
    entrypoint: ./scripts/deploy.sh
    args: [trainer, grpc, "$PROJECT_ID"]
    waitFor: [trainer-docker]
  - id: trainings-http-deploy
    name: gcr.io/cloud-builders/gcloud
    entrypoint: ./scripts/deploy.sh
    args: [trainings, http, "$PROJECT_ID"]
    waitFor: [trainings-docker]
  - id: users-http-deploy
    name: gcr.io/cloud-builders/gcloud
    entrypoint: ./scripts/deploy.sh
    args: [users, http, "$PROJECT_ID"]
    waitFor: [users-docker]
  - id: users-grpc-deploy
    name: gcr.io/cloud-builders/gcloud
    entrypoint: ./scripts/deploy.sh
    args: [users, grpc, "$PROJECT_ID"]
    waitFor: [users-docker]
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/cloudbuild.yaml](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/227e540bb22d0265ed88286d1eb7714d02dc45be/cloudbuild.yaml)

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∫–ª—é—á `waitFor`. –≠—Ç–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç —à–∞–≥ –æ–∂–∏–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥—Ä—É–≥–∏—Ö 
—É–∫–∞–∑–∞–Ω–Ω—ã—Ö —à–∞–≥–æ–≤. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞–Ω–∏—è –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.

–í–æ—Ç –±–æ–ª–µ–µ —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–≥–æ:

![init](images/part14/initial-pipeline.jpg)

–£ –Ω–∞—Å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–æ—Ö–æ–∂–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:
lint (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑), —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞ Docker –∏ –µ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –≤–∏–¥–µ 
–æ–¥–Ω–æ–π –∏–ª–∏ –¥–≤—É—Ö —Å–ª—É–∂–± Cloud Run.

–ü–æ—Å–∫–æ–ª—å–∫—É –Ω–∞—à –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –≥–æ—Ç–æ–≤ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–∞–º –Ω—É–∂–Ω–æ –≤—ã—è—Å–Ω–∏—Ç—å, –∫–∞–∫ 
–ø–æ–¥–∫–ª—é—á–∏—Ç—å –µ–≥–æ –∫ –∫–æ–Ω–≤–µ–π–µ—Ä—É.

## Docker Compose

–ú–´ —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –æ–¥–∏–Ω docker-compose —Ñ–∞–π–ª, –∏ —è —Ö–æ—Ç–µ–ª –±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ —Ç–∞–∫–∏–º. 
–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è:

* –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ,
* –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ,
* –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –≤ CI.

–≠—Ç–∏ —Ç—Ä–∏ —Ü–µ–ª–∏ –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º –∑–∞–ø—É—Å–∫–µ 
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º—ã —Ö–æ—Ç–∏–º –∏–º–µ—Ç—å –≥–æ—Ä—è—á—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É –∫–æ–¥–∞. –ù–æ —ç—Ç–æ –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ –≤ CI.
–° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –º—ã –Ω–µ –º–æ–∂–µ–º –¥–µ–ª–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –ø–æ—Ä—Ç—ã –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö–æ—Å—Ç–µ (`localhost`) –≤ CI, 
—á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º –ø—Ä–æ—Å—Ç—ã–º —Å–ø–æ—Å–æ–±–æ–º –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ.

–ö —Å—á–∞—Å—Ç—å—é, docker-compose –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–∏–±–æ–∫, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤—Å–µ —ç—Ç–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–π —Ñ–∞–π–ª `docker-compose.yml` –∏ 
–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª `docker-compose.ci.yml` —Å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è CI. 
–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ, –ø–µ—Ä–µ–¥–∞–≤ –æ–±–∞ —Ñ–∞–π–ª–∞ —Å —Ñ–ª–∞–≥–æ–º `-f` (–æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ 
–¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ —É–∫–∞–∑–∞–Ω –æ–¥–∏–Ω —Ñ–ª–∞–≥). –ö–ª—é—á–∏ –∏–∑ —Ñ–∞–π–ª–æ–≤ –±—É–¥—É—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ 
—É–∫–∞–∑–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

```shell
docker-compose -f docker-compose.yml -f docker-compose.ci.yml up -d
```

> –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, docker-compose –∏—â–µ—Ç —Ñ–∞–π–ª docker-compose.yml –≤ —Ç–µ–∫—É—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ 
> –∏–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–∞—Ç–∞–ª–æ–≥–∞—Ö. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–ª–∞–≥–∞ -f –æ—Ç–∫–ª—é—á–∞–µ—Ç —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, 
> –ø–æ—ç—Ç–æ–º—É –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –≤ Cloud Build, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑ `docker/compose`.

```yaml
- id: docker-compose
  name: 'docker/compose:1.19.0'
  args: ['-f', 'docker-compose.yml', '-f', 'docker-compose.ci.yml', 'up', '-d']
  env:
    - 'PROJECT_ID=$PROJECT_ID'
  waitFor: [trainer-docker, trainings-docker, users-docker]
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/cloudbuild.yaml](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/d6077806771e0d22d62f8dba5ae6b64d554d6ea0/cloudbuild.yaml#L31)

–ü–æ—Å–∫–æ–ª—å–∫—É –º—ã –∑–∞–ø–æ–ª–Ω–∏–ª–∏ `waitFor` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ —à–∞–≥–æ–≤, –º—ã –º–æ–∂–µ–º –±—ã—Ç—å 
—É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã. –í–æ—Ç —á—Ç–æ –º—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏:

![docker-compose](images/part14/docker-compose-up.jpg)

–ü–µ—Ä–≤–æ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –≤ `docker-compose.ci.yml`, 
–∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑—ã –¥–æ–∫–µ—Ä–æ–≤ –ø–æ —Ç–µ–≥—É –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è 
–æ–¥–Ω–æ–≥–æ –∏–∑ `docker/app/Dockerfile`. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –Ω–∞—à–∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ç–µ 
–∂–µ –æ–±—Ä–∞–∑—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `${PROJECT_ID}` –≤ –∫–ª—é—á–∞—Ö –æ–±—Ä–∞–∑–∞. –≠—Ç–æ –¥–æ–ª–∂–µ–Ω 
–±—ã—Ç—å –ø—Ä–æ–¥–∞–∫—à–µ–Ω –ø—Ä–æ–µ–∫—Ç, –ø–æ—ç—Ç–æ–º—É –º—ã –Ω–µ –º–æ–∂–µ–º –∂–µ—Å—Ç–∫–æ –∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ 
—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. Cloud Build –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —ç—Ç—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ, –ø–æ—ç—Ç–æ–º—É 
–º—ã –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–µ–º –µ–µ –∫–æ–º–∞–Ω–¥–µ `docker-compose up` (—Å–º. –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã—à–µ).

```yml
services:
  trainer-http:
    image: "gcr.io/${PROJECT_ID}/trainer"

  trainer-grpc:
    image: "gcr.io/${PROJECT_ID}/trainer"

  trainings-http:
    image: "gcr.io/${PROJECT_ID}/trainings"

  users-http:
    image: "gcr.io/${PROJECT_ID}/users"

  users-grpc:
    image: "gcr.io/${PROJECT_ID}/users"
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/docker-compose.ci.yml](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/d6077806771e0d22d62f8dba5ae6b64d554d6ea0/docker-compose.ci.yml#L2)

## –°–µ—Ç—å

–°–µ–≥–æ–¥–Ω—è –º–Ω–æ–≥–∏–µ —Å–∏—Å—Ç–µ–º—ã –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Docker, –æ–±—ã—á–Ω–æ
–≤—ã–ø–æ–ª–Ω—è—è –∫–∞–∂–¥—ã–π —à–∞–≥ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ 
docker-compose –≤ CI –Ω–µ–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–µ–µ, —Ç–∞–∫ –∫–∞–∫ –æ–±—ã—á–Ω–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∑–∞–ø—É—Å–∫ Docker
–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏–∑ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

–í Google Cloud Build –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ [—Å–µ—Ç–∏ `cloudbuild`](https://cloud.google.com/build/docs/build-config#network).
–ü—Ä–æ—Å—Ç–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç—Ç–æ–π —Å–µ—Ç–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å–µ—Ç–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –Ω–∞—à–µ–≥–æ 
`docker-compose.ci.yml` –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã —à–∞–≥–∏ CI –ø–æ–¥–∫–ª—é—á–∞–ª–∏—Å—å –∫ —Å–ª—É–∂–±–∞–º
docker-compose.

–í–æ—Ç –≤—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å –Ω–∞—à–µ–≥–æ —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:

```yml
networks:
  default:
    external:
      name: cloudbuild
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/docker-compose.ci.yml](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/d6077806771e0d22d62f8dba5ae6b64d554d6ea0/docker-compose.ci.yml#L17)

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–Ω–∞—á–∞–ª–∞ –∫–∞–∂–µ—Ç—Å—è 
–ø—Ä–æ—Å—Ç—ã–º, –Ω–æ –±—ã—Å—Ç—Ä–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–æ–∂–Ω—ã–º, —É—á–∏—Ç—ã–≤–∞—è, —Å–∫–æ–ª—å–∫–æ —Å–ª—É—á–∞–µ–≤ –Ω–∞–º 
–Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å. –ü–æ–ø—Ä–æ–±—É–µ–º –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –∏—Ö –≤—Å–µ:

* –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ,
* –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ,
* –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ CI,
* –∑–∞–ø—É—Å–∫ —Å–∫–≤–æ–∑–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ,
* –∑–∞–ø—É—Å–∫ —Å–∫–≤–æ–∑–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –≤ CI.

–Ø –Ω–µ –¥–æ–±–∞–≤–ª—è–ª –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Å—Ä–µ–¥–µ, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 
docker-compose.

–ü–æ—á–µ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ –∏ —Å–∫–≤–æ–∑–Ω—ã–µ —Ç–µ—Å—Ç—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã? –ü–µ—Ä–≤—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç —Å–µ—Ä–≤–∏—Å—ã –ø–æ
–∑–∞–ø—Ä–æ—Å—É, –∞ –≤—Ç–æ—Ä—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏, —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—â–∏–º–∏ –≤ 
—Ä–∞–º–∫–∞—Ö docker-compose. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–±–∞ —Ç–∏–ø–∞ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ 
–∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–∏—Å–∞–º.

> –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã—Ö –∏ —Å–∫–≤–æ–∑–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö —á–∏—Ç–∞–π—Ç–µ –≤ [–ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å—Ç–∞—Ç—å–µ](https://threedots.tech/post/microservices-test-architecture/). –ï—Å–ª–∏
> –∫–æ—Ä–æ—Ç–∫–æ: –º—ã —Ñ–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è –Ω–∞ —Ç–µ—Å—Ç–∞—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤–∫–ª—é—á–∞—é—Ç –≤–Ω–µ—à–Ω–∏–µ 
> —Å–µ—Ä–≤–∏—Å—ã. –°–∫–≤–æ–∑–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç
> –Ω–µ –Ω–∞—Ä—É—à–µ–Ω –Ω–∞ –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ –∏ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞–∏–±–æ–ª–µ–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—É—Ç–∏. –≠—Ç–æ
> –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.

–£ –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å –±–∞–∑–æ–≤—ã–π —Ñ–∞–π–ª `.env`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –û–Ω 
–ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∂–¥–æ–π —Å–ª—É–∂–±–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ docker-compose.

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, docker-compose –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª, –∫–æ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç –µ–≥–æ
–≤ —Ä–∞–±–æ—á–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ. –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –º—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ 
–≤–Ω—É—Ç—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è yaml.

```yml
services:
  trainer-http:
    build:
      context: docker/app        
    ports:
      # $PORT –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ—Å—Ç—É–ø–∞–µ—Ç –∏–∑ —Ñ–∞–π–ª–∞ .env 
      - "127.0.0.1:3000:$PORT"
    env_file:
      # –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ .env –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Å–µ—Ä–≤–∏—Å
      - .env
    # (—á–∞—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–ø—É—â–µ–Ω–∞)
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/docker-compose.yml](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/a3f4a35ff14a33950eb5caebe54d27b25bcf69e3/docker-compose.yml#L23)

–ù–∞–º —Ç–∞–∫–∂–µ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–æ–≤. –≠—Ç–æ 
–¥–æ–≤–æ–ª—å–Ω–æ –ª–µ–≥–∫–æ —Å–¥–µ–ª–∞—Ç—å –≤ bash:

```shell
source .env
# —Ç–æ –∂–µ —Å–∞–º–æ–µ
. .env
```

–û–¥–Ω–∞–∫–æ —É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –Ω–∞—à–µ–º —Ñ–∞–π–ª–µ `.env` –Ω–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å–∞ `export`, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏ 
–Ω–µ –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º, —Ä–∞–±–æ—Ç–∞—é—â–∏–º –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. –ú—ã –Ω–µ –º–æ–∂–µ–º 
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º, –∫–æ—Ç–æ—Ä—ã–π –æ–∂–∏–¥–∞–µ—Ç 
docker-compose.

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –º—ã –Ω–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω —Ñ–∞–π–ª –¥–ª—è –≤—Å–µ—Ö —Å–ª—É—á–∞–µ–≤. –ù–∞–º –Ω—É–∂–Ω–æ 
–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–∞–∫ –º—ã —Å–¥–µ–ª–∞–ª–∏ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º docker-compose.
–ú–æ—è –∏–¥–µ—è —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –æ–¥–∏–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –∫–∞–∂–¥–æ–≥–æ 
—Å–ª—É—á–∞—è. –û–Ω –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –≤–º–µ—Å—Ç–µ —Å –±–∞–∑–æ–≤—ã–º —Ñ–∞–π–ª–æ–º `.env`.

–ü–æ—Å–º–æ—Ç—Ä–∏–º –≤ —á—ë–º –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –≤—Å–µ–º–∏ —Å–ª—É—á–∞—è–º–∏. –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —è –¥–æ–±–∞–≤–∏–ª 
—Ç–æ–ª—å–∫–æ users-http, –Ω–æ –∏–¥–µ—è –ø—Ä–∏–º–µ–Ω–∏–º–∞ –∫–æ –≤—Å–µ–º —Å–µ—Ä–≤–∏—Å–∞–º.

| –°–ª—É—á–∞–π    | –•–æ—Å—Ç MySQL |    –•–æ—Å—Ç Firestore | –ê–¥—Ä–µ—Å users-http | –§–∞–π–ª | 
| ----------- | ----------- | ----- | ------ | ------ |
| –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ | localhost | localhost | localhost:3002 | [.env](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/d6077806771e0d22d62f8dba5ae6b64d554d6ea0/.env) |
| –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤  | localhost | localhost | localhost:5002 | [.test.env](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/d6077806771e0d22d62f8dba5ae6b64d554d6ea0/.test.env) |
| CI —Ç–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤  | mysql | firestore-component-tests | localhost:5002 | [.test.ci.env](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/d6077806771e0d22d62f8dba5ae6b64d554d6ea0/.test.ci.env) |
| –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å–∫–≤–æ–∑–Ω—ã–µ —Ç–µ—Å—Ç—ã  | - | - | localhost:3002 | [.e2e.env](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/d6077806771e0d22d62f8dba5ae6b64d554d6ea0/.e2e.env) |
| CI —Å–∫–≤–æ–∑–Ω—ã–µ —Ç–µ—Å—Ç—ã | - | - | users-http:3000 | [.e2e.ci.env](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/d6077806771e0d22d62f8dba5ae6b64d554d6ea0/.e2e.ci.env) |

–°–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π docker-compose —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ—Ä—Ç–æ–≤ 3000+,
–∞ —Ç–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∑–∞–ø—É—Å–∫–∞—é—Ç —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 5000+. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –æ–±–∞ 
—ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

–Ø —Å–æ–∑–¥–∞–ª bash-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã. **–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, 
–Ω–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∞–∫–æ–π —Å–ª–æ–∂–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ Makefile. Make 
—É–∂–∞—Å–Ω–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è.** –≠—Ç–æ –±—É–¥–µ—Ç –≤–∞–º —Å—Ç–æ–∏—Ç—å –±–æ–ª—å—à–æ–≥–æ
—á–∏—Å–ª–∞ –Ω–µ—Ä–≤–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫.

–î—Ä—É–≥–∞—è –ø—Ä–∏—á–∏–Ω–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –º—ã —Ö—Ä–∞–Ω–∏–º 
3 —Å–µ—Ä–≤–∏—Å–∞ –≤ –æ–¥–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –∞ —Å–∫–≤–æ–∑–Ω—ã–µ —Ç–µ—Å—Ç—ã ‚Äî –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ.
–ï—Å–ª–∏ –º–Ω–µ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –∫–æ–º–∞–Ω–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, —è –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é 
–≤—ã–∑—ã–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π —Å –¥–≤—É–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏, –∞ –Ω–µ –¥–ª–∏–Ω–Ω—ã–º –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ–º –∏–∑ —Ñ–ª–∞–≥–æ–≤ –∏ 
–∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

–¢—Ä–µ—Ç–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç –≤ –ø–æ–ª—å–∑—É –æ—Ç–¥–µ–ª—å–Ω—ã—Ö bash-—Å–∫—Ä–∏–ø—Ç–æ–≤ ‚Äî –∏—Ö –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å –ø–æ–º–æ—â—å—é
[shellcheck](https://www.shellcheck.net/).

```shell
#!/bin/bash
set -e

readonly service="$1"
readonly env_file="$2"

cd "./internal/$service"
env $(cat "../../.env" "../../$env_file" | grep -Ev '^#' | xargs) go test -count=1 ./...
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/scripts/test.sh](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/d6077806771e0d22d62f8dba5ae6b64d554d6ea0/scripts/test.sh)

–°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç `go test` –≤ –∑–∞–¥–∞–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è, 
–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ –∏–∑ `.env` –∏ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞. –¢—Ä—é–∫ `env / xargs` –ø–µ—Ä–µ–¥–∞—ë—Ç –≤—Å–µ 
–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–µ. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ –º—ã —É–¥–∞–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–∑ 
—Ñ–∞–π–ª–∞ —Å –ø–æ–º–æ—â—å—é `grep`.

> –¢–µ—Å—Ç–∏—Ä—É–µ–º –∫—ç—à 
>
> `go test` –∫—ç—à–∏—Ä—É–µ—Ç —É—Å–ø–µ—à–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –µ—Å–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã –Ω–µ –∏–∑–º–µ–Ω–µ–Ω—ã.
> 
> –° —Ç–µ—Å—Ç–∞–º–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–º–∏ Docker, –º–æ–∂–µ—Ç —Å–ª—É—á–∏—Ç—å—Å—è —Ç–∞–∫, —á—Ç–æ –≤—ã —á—Ç–æ-—Ç–æ –∏–∑–º–µ–Ω–∏—Ç–µ 
> –Ω–∞ —É—Ä–æ–≤–Ω–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ docker-compose –∏–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ 
> –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è. `go test` —ç—Ç–æ–≥–æ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏—Ç, –∏ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∏–Ω—è—Ç—å 
> –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç –∑–∞ —É—Å–ø–µ—à–Ω—ã–π.
> 
> –û–± —ç—Ç–æ–º –ª–µ–≥–∫–æ –∑–∞–±—ã—Ç—å, –∞ –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–∞—à–∏ —Ç–µ—Å—Ç—ã –∏ —Ç–∞–∫ –±—ã—Å—Ç—Ä—ã–µ, –º—ã –º–æ–∂–µ–º –æ—Ç–∫–ª—é—á–∏—Ç—å
> –∫—ç—à. –§–ª–∞–≥ -count=1 ‚Äî –∏–¥–∏–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (—Ö–æ—Ç—è –∏ –Ω–µ –æ—á–µ–≤–∏–¥–Ω—ã–π) —Å–ø–æ—Å–æ–± —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ.

## –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã

–£ –º–µ–Ω—è —Å–∫–≤–æ–∑–Ω—ã–µ —Ç–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø—Ä–æ–π–¥–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö 
—Å–µ—Ä–≤–∏—Å–æ–≤. –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ—Ö–æ–∂–µ –Ω–∞ —Ç–æ, –∫–∞–∫ –≤—ã –æ–±—ã—á–Ω–æ –∏—Ö –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ. **–ü–æ–º–Ω–∏—Ç–µ, 
—Å–∫–≤–æ–∑–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –¥–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞, –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∫–∞–∂–¥–æ–≥–æ 
—Å–µ—Ä–≤–∏—Å–∞ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –Ω–∞–∏–±–æ–ª—å—à–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ.**

–ü–æ—Å–∫–æ–ª—å–∫—É –æ–±—ä–µ–º –Ω–∞—à–∏—Ö —Å–∫–≤–æ–∑–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –Ω–µ–≤–µ–ª–∏–∫, –º—ã –º–æ–∂–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏—Ö –ø–µ—Ä–µ–¥ 
—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º —Å–µ—Ä–≤–∏—Å–æ–≤. –ï—Å–ª–∏ –±—ã –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞–ª–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, 
—ç—Ç–æ –º–æ–≥–ª–æ –±—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ª—É—á—à–µ–π
–∏–¥–µ–µ–π –±—ã–ª–æ –±—ã –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ —Ç–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ 
–∑–∞–ø—É—Å–∫–∞—Ç—å –ø–∞–∫–µ—Ç —Å–∫–≤–æ–∑–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤.

```yaml
- id: trainer-tests
  name: golang
  entrypoint: ./scripts/test.sh
  args: ["trainer", ".test.ci.env"]
  waitFor: [docker-compose]
- id: trainings-tests
  name: golang
  entrypoint: ./scripts/test.sh
  args: ["trainings", ".test.ci.env"]
  waitFor: [docker-compose]
- id: users-tests
  name: golang
  entrypoint: ./scripts/test.sh
  args: ["users", ".test.ci.env"]
  waitFor: [docker-compose]
- id: e2e-tests
  name: golang
  entrypoint: ./scripts/test.sh
  args: ["common", ".e2e.ci.env"]
  waitFor: [trainer-tests, trainings-tests, users-tests]
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/cloudbuild.yaml](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/d6077806771e0d22d62f8dba5ae6b64d554d6ea0/cloudbuild.yaml#L38)

```yaml
- id: docker-compose-down
  name: 'docker/compose:1.19.0'
  args: ['-f', 'docker-compose.yml', '-f', 'docker-compose.ci.yml', 'down']
  env:
    - 'PROJECT_ID=$PROJECT_ID'
  waitFor: [e2e-tests]
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/cloudbuild.yaml](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/d6077806771e0d22d62f8dba5ae6b64d554d6ea0/cloudbuild.yaml#L59)

–í—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å –Ω–∞—à–µ–≥–æ –∫–æ–Ω–≤–µ–π–µ—Ä–∞ —Ç–µ–ø–µ—Ä—å –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

![pipiline](images/part14/final-pipeline.jpg)

–í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (—è –¥–æ–±–∞–≤–∏–ª –µ–≥–æ –≤ `make` –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π 
—Å—Ç–∞—Ç—å–µ). –≠—Ç–æ —Ç–æ—á–Ω–æ —Ç–∞–∫–∏–µ –∂–µ –∫–æ–º–∞–Ω–¥—ã, –∫–∞–∫ –∏ –≤ CI, —Ç–æ–ª—å–∫–æ —Å –¥—Ä—É–≥–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ `.env`.

```makefile
test:
	@./scripts/test.sh common .e2e.env
	@./scripts/test.sh trainer .test.env
	@./scripts/test.sh trainings .test.env
	@./scripts/test.sh users .test.env
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/Makefile](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/d6077806771e0d22d62f8dba5ae6b64d554d6ea0/Makefile#L60)

## –†–∞–∑–¥–µ–ª—è–µ–º —Ç–µ—Å—Ç—ã

–ì–ª—è–¥—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å—Ç–∞—Ç—å–∏, –º—ã –º–æ–≥–ª–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Ç–µ—Å—Ç—ã –Ω–∞ –¥–≤–µ –≥—Ä—É–ø–ø—ã –≤
–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ª–∏ –æ–Ω–∏ Docker.

| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å    | Unit |    –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ | –°–∫–≤–æ–∑–Ω—ã–µ | 
| ----------- | ----------- | ----- | ------ | ------ |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Docker | –ù–µ—Ç | –î–∞ | –î–∞ | –î–∞ |

Unit —Ç–µ—Å—Ç—ã ‚Äî —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö 
Docker, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ –∏ —Å–∫–≤–æ–∑–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç
–µ—ë.

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –º—ã —Å–¥–µ–ª–∞–ª–∏ –≤—Å–µ –Ω–∞—à–∏ —Ç–µ—Å—Ç—ã –±—ã—Å—Ç—Ä—ã–º–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–º–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ 
–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã Docker –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã. –ü–æ–ª–µ–∑–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å
–≤—Å–µ unit —Ç–µ—Å—Ç—ã –æ—Ç–¥–µ–ª—å–Ω–æ, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–æ–π –∑–∞—â–∏—Ç—ã –æ—Ç –æ—à–∏–±–æ–∫.

–ú—ã –º–æ–≥–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–≥–∏ build, —á—Ç–æ–±—ã –≤—ã–¥–µ–ª–∏—Ç—å —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç
Docker. –í—ã –º–æ–∂–µ—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–µ–≥–∏ build –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ —Ñ–∞–π–ª–∞.

```go
// +build docker
```

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–≥–ª–∏ –±—ã –∑–∞–ø—É—Å–∫–∞—Ç—å –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, 
–ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–∞—è –Ω–∏–∂–µ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å—Ç–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω—ã Docker —Å–µ—Ä–≤–∏—Å—ã:

```shell
go test -tags=docker ./...
```

–î—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–ª–∞–≥–∞ `-short` –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ 
[testing.Short()](https://golang.org/pkg/testing/#Short) –≤ –∫–∞–∂–¥–æ–º —Ç–µ—Å—Ç–æ–≤–æ–º 
—Å–ª—É—á–∞–µ.

–í –∏—Ç–æ–≥–µ —è —Ä–µ—à–∏–ª –Ω–µ –≤–≤–æ–¥–∏—Ç—å —ç—Ç–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ. –ú—ã —Å–¥–µ–ª–∞–ª–∏ –Ω–∞—à–∏ —Ç–µ—Å—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã–º–∏ 
–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã—Å—Ç—Ä—ã–º–∏, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏—Ö –≤—Å–µ —Å—Ä–∞–∑—É –Ω–µ –±—ã–ª–æ –ø—Ä–æ–±–ª–µ–º–æ–π. –û–¥–Ω–∞–∫–æ 
–Ω–∞—à –ø—Ä–æ–µ–∫—Ç –¥–æ–≤–æ–ª—å–Ω–æ –º–∞–ª, –∏ –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏. 
–ö–æ–≥–¥–∞ –æ–Ω —Ä–∞–∑—Ä–∞—Å—Ç–µ—Ç—Å—è, –º–æ–∂–µ—Ç –±—ã—Ç—å —Ö–æ—Ä–æ—à–µ–π –∏–¥–µ–µ–π –≤–≤–µ—Å—Ç–∏ —Ç–µ–≥–∏ —Å–±–æ—Ä–∫–∏ –≤ —Ç–µ—Å—Ç—ã 
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

## –û—Ç—Å—Ç—É–ø–ª–µ–Ω–∏–µ: –∫—Ä–∞—Ç–∫–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ –≤ CI –æ—Ç–ª–∞–¥–∫—É

–ü–æ–∫–∞ —è –≤–Ω–æ—Å–∏–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —ç—Ç–æ—Ç –ø–æ—Å—Ç, –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–æ–≥–æ–Ω—ã –≤ Cloud 
Build –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏ –¥–∞–≤–∞—Ç—å —Å–±–æ–∏. –°—É–¥—è –ø–æ –ª–æ–≥–∞–º, —Ç–µ—Å—Ç—ã –Ω–µ —Å–º–æ–≥–ª–∏ –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ 
—Å–µ—Ä–≤–∏—Å–æ–≤ –∏–∑ docker-compose.

–ü–æ—ç—Ç–æ–º—É —è –Ω–∞—á–∞–ª –æ—Ç–ª–∞–¥–∫—É –∏ –¥–æ–±–∞–≤–∏–ª –ø—Ä–æ—Å—Ç–æ–π bash-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è 
–∫ —Å–µ—Ä–≤–∏—Å–∞–º —á–µ—Ä–µ–∑ `telnet`.

–ö –º–æ–µ–º—É —É–¥–∏–≤–ª–µ–Ω–∏—é, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ `mysql:3306` —Ä–∞–±–æ—Ç–∞–ª–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∞ –∫ 
`firestore:8787` ‚Äî –Ω–µ—Ç, –∏ —Ç–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ Wild Workouts.

–Ø –¥—É–º–∞–ª, —á—Ç–æ —ç—Ç–æ –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ docker-compose –¥–æ–ª–≥–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ –ª—é–±–æ–µ 
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–µ –ø–æ–º–æ–≥–ª–æ. –ù–∞–∫–æ–Ω–µ—Ü, —è —Ä–µ—à–∏–ª 
–ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —á—Ç–æ-—Ç–æ –±–µ–∑—É–º–Ω–æ–µ –∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª –æ–±—Ä–∞—Ç–Ω—ã–π SSH-—Ç—É–Ω–Ω–µ–ª—å –∏–∑ –æ–¥–Ω–æ–≥–æ –∏–∑ 
–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ docker-compose.

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏–ª–æ –º–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSH –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –ø–æ–∫–∞ —Å–±–æ—Ä–∫–∞ 
–µ—â–µ –≤—ã–ø–æ–ª–Ω—è–ª–∞—Å—å. –ó–∞—Ç–µ–º —è –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `telnet` –∏ `curl`, –∏ –æ–Ω–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ 
—Ä–∞–±–æ—Ç–∞–ª–∏ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

–ù–∞–∫–æ–Ω–µ—Ü, —è –æ–±–Ω–∞—Ä—É–∂–∏–ª –æ—à–∏–±–∫—É –≤ —Å—Ü–µ–Ω–∞—Ä–∏–∏ bash, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª.

```shell
readonly host="$1"
readonly port="$1"

# (–∫–æ–¥ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞)

telnet "$host" "$port"
```

–ò–∑-–∑–∞ –æ–ø–µ—á–∞—Ç–∫–∏ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥–∞ `telnet` –≤—ã–ø–æ–ª–Ω—è–ª–∞—Å—å —Å–ª–µ–¥—É—é—â–∏–º 
–æ–±—Ä–∞–∑–æ–º: `telnet $host $host`. –¢–∞–∫ –ø–æ—á–µ–º—É –∂–µ —ç—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ –¥–ª—è MySQL? –û–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, 
telnet —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –ø–æ—Ä—Ç—ã, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ `/etc/services`. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, `telnet 
mysql mysql` –±—ã–ª –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –≤ `telnet mysql 3306` –∏ —Ä–∞–±–æ—Ç–∞–ª –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –Ω–æ –Ω–µ 
—Ä–∞–±–æ—Ç–∞–ª –Ω–∏ —Å –æ–¥–Ω–æ–π –¥—Ä—É–≥–æ–π —Å–ª—É–∂–±–æ–π.

–ü–æ—á–µ–º—É —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å? –ê –æ–∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –ø—Ä–∏—á–∏–Ω–∞ —Å–æ–≤—Å–µ–º –≤ –¥—Ä—É–≥–æ–º.

–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –º—ã –ø–æ–¥–∫–ª—é—á–∞–ª–∏—Å—å –∫ MySQL —Ç–∞–∫:

```go
config := mysql.Config{
    Addr:      os.Getenv("MYSQL_ADDR"),
    User:      os.Getenv("MYSQL_USER"),
    Passwd:    os.Getenv("MYSQL_PASSWORD"),
    DBName:    os.Getenv("MYSQL_DATABASE"),
    ParseTime: true, // —Å —ç—Ç–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å time.Time –≤ mysqlHour.Hour
}

db, err := sqlx.Connect("mysql", config.FormatDSN())
if err != nil {
    return nil, errors.Wrap(err, "cannot connect to MySQL")
}
```
–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: [github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/internal/trainer/adapters/hour_mysql_repository.go](https://github.com/ThreeDotsLabs/wild-workouts-go-ddd-example/blob/0e3e9d80eb14639bc42935795f7ca3b73da36304/internal/trainer/adapters/hour_mysql_repository.go#L184)

–Ø –ø–æ—Å–º–æ—Ç—Ä–µ–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∏ –≤—Å–µ –æ–Ω–∏ –±—ã–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü–æ—Å–ª–µ 
–¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö `fmt.Println()` **—è –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ —á–∞—Å—Ç—å 
–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `Addr` –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç–æ–º MySQL, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã –Ω–µ 
—É–∫–∞–∑–∞–ª–∏ –ø–æ–ª–µ `Net`.** –ü–æ—á–µ–º—É —ç—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤? –ü–æ—Å–∫–æ–ª—å–∫—É MySQL 
–±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `localhost`, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –∞–¥—Ä–µ—Å–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

–í –¥—Ä—É–≥–æ–º —Ç–µ—Å—Ç–µ –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –æ–¥–Ω–æ–º—É –∏–∑ —Å–µ—Ä–≤–∏—Å–æ–≤ Wild Workouts, –∏ 
–æ–∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç –≤ —Ñ–∞–π–ª–µ `.env`.

–ó–∞—á–µ–º —è –≤–æ–æ–±—â–µ —ç—Ç–æ –¥–µ–ª—é—Å—å? –Ø –¥—É–º–∞—é, —á—Ç–æ —ç—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, –∫–∞–∫ —á–∞—Å—Ç–æ 
–º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ä–∞–±–æ—Ç–∞ —Å CI —Å–∏—Å—Ç–µ–º–∞–º–∏. **–ö–æ–≥–¥–∞ —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—â–µ–π —Ä–∞–±–æ—Ç–∞—é—Ç 
—Å –æ—à–∏–±–∫–∞–º–∏, –ª–µ–≥–∫–æ –ø—Ä–∏–π—Ç–∏ –∫ –Ω–µ–≤–µ—Ä–Ω—ã–º –≤—ã–≤–æ–¥–∞–º –∏ –∫–æ–ø–Ω—É—Ç—å –≥–ª—É–±–∂–µ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º 
–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏.**

–í —Å–ª—É—á–∞–µ —Å–æ–º–Ω–µ–Ω–∏–π —è –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–∞–∑–æ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è 
–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å Linux, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ `strace`, `curl` –∏–ª–∏ `telnet`. –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É 
—è —Å–¥–µ–ª–∞–ª –æ–±—Ä–∞—Ç–Ω—ã–π —Ç—É–Ω–Ω–µ–ª—å SSH, –∏ —è —Ä–∞–¥, —á—Ç–æ —Å–¥–µ–ª–∞–ª —ç—Ç–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –∫–∞–∂–µ—Ç—Å—è 
–æ—Ç–ª–∏—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º –≤–Ω—É—Ç—Ä–∏ CI. –Ø —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å 
–≤–æ—Å–ø–æ–ª—å–∑—É—é—Å—å –∏–º —Å–Ω–æ–≤–∞. üòÑ

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ù–∞–º —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–¥–∏–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ docker-compose –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ 
–ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤ –∫–æ–Ω–≤–µ–π–µ—Ä–µ. –í–µ—Å—å –∑–∞–ø—É—Å–∫ Cloud Build –æ—Ç git push –¥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω 
–∑–∞–Ω–∏–º–∞–µ—Ç 4 –º–∏–Ω—É—Ç—ã.

–ú—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ö–∏—Ç—Ä—ã—Ö –ø—Ä–∏–µ–º–æ–≤, –Ω–æ —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ –≤–µ—â–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å CI. 
–ò–Ω–æ–≥–¥–∞ –≤—ã –ø—Ä–æ—Å—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–º–Ω–æ–≥–æ –º–∞–≥–∏–∏ bash, —á—Ç–æ–±—ã –≤—Å–µ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ.

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∫–æ–¥–∞ –¥–æ–º–µ–Ω–∞, —Ö–∞–∫–∏ –≤ –≤–∞—à–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ CI –Ω–µ –¥–æ–ª–∂–Ω—ã —Å–∏–ª—å–Ω–æ 
–Ω–∞–≤—Ä–µ–¥–∏—Ç—å –≤–∞–º, –ø–æ–∫–∞ –∏—Ö –Ω–µ–º–Ω–æ–≥–æ. –ü—Ä–æ—Å—Ç–æ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞–º –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ 
–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, —á—Ç–æ–±—ã –≤—ã –Ω–µ –±—ã–ª–∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º, –æ–±–ª–∞–¥–∞—é—â–∏–º –≤—Å–µ–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏.

–≠—Ç–æ–π —Å—Ç–∞—Ç—å—ë–π –º—ã –∑–∞–≤–µ—Ä—à–∞–µ–º –ø–µ—Ä–≤—É—é —á–∞—Å—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ Wild Workouts. –¢–µ–ø–µ—Ä—å –º—ã 
—Å–æ–±–∏—Ä–∞–µ–º—Å—è –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–º —à–∞–±–ª–æ–Ω–∞–º –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –°–ø–∞—Å–∏–±–æ –∑–∞ —á—Ç–µ–Ω–∏–µ, 
–∏ —Å–∫–æ—Ä–æ —É–≤–∏–¥–∏–º—Å—è! üëã
